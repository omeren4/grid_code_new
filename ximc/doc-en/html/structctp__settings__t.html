<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>libximc: ctp_settings_t Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libximc
   &#160;<span id="projectnumber">2.14.26</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">ctp_settings_t Struct Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Control position settings (used with stepper motor only)  
 <a href="structctp__settings__t.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a24094d5762a719e34470d30f19bc1fb3"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctp__settings__t.html#a24094d5762a719e34470d30f19bc1fb3">CTPMinError</a></td></tr>
<tr class="memdesc:a24094d5762a719e34470d30f19bc1fb3"><td class="mdescLeft">&#160;</td><td class="mdescRight">The minimum difference between the SM position in steps and the encoder position that causes the setting of the STATE_CTP_ERROR flag.  <a href="#a24094d5762a719e34470d30f19bc1fb3"></a><br/></td></tr>
<tr class="memitem:af26d46d9aef133a7ec21e8d2bb1e80bb"><td class="memItemLeft" align="right" valign="top">unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structctp__settings__t.html#af26d46d9aef133a7ec21e8d2bb1e80bb">CTPFlags</a></td></tr>
<tr class="memdesc:af26d46d9aef133a7ec21e8d2bb1e80bb"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="ximc_8h.html#flagset_ctpflags">Position control flags</a>.  <a href="#af26d46d9aef133a7ec21e8d2bb1e80bb"></a><br/></td></tr>
</table>
<a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Control position settings (used with stepper motor only) </p>
<p>When controlling the step motor with the encoder (CTP_BASE=0), it is possible to detect the loss of steps. The controller knows the number of steps per revolution (GENG::StepsPerRev) and the encoder resolution (GFBS::IPT). When the control is enabled (CTP_ENABLED is set), the controller stores the current position in the steps of SM and the current position of the encoder. Next, the encoder position is converted into steps at each step, and if the difference between the current position in steps and the encoder position is greater than CTPMinError, the flag STATE_CTP_ERROR is set.</p>
<p>Alternatively, the stepper motor may be controlled with the speed sensor (CTP_BASE 1). In this mode, at the active edges of the input clock, the controller stores the current value of steps. Then, at each revolution, the controller checks how many steps have been passed. When the difference is over the CTPMinError, the STATE_CTP_ERROR flag is set. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="ximc_8h.html#a920983186a78fee229c367f92e1f7f4c" title="Set control position settings (used with stepper motor only).">set_ctp_settings</a> </dd>
<dd>
<a class="el" href="ximc_8h.html#af0b17462d9c663ba323f1c1d0c43e235" title="Read control position settings (used with stepper motor only).">get_ctp_settings</a> </dd>
<dd>
<a class="el" href="ximc_8h.html#af0b17462d9c663ba323f1c1d0c43e235" title="Read control position settings (used with stepper motor only).">get_ctp_settings</a>, <a class="el" href="ximc_8h.html#a920983186a78fee229c367f92e1f7f4c" title="Set control position settings (used with stepper motor only).">set_ctp_settings</a> </dd></dl>
</div><h2>Field Documentation</h2>
<a class="anchor" id="af26d46d9aef133a7ec21e8d2bb1e80bb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CTPFlags</td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="ximc_8h.html#flagset_ctpflags">Position control flags</a>. </p>

</div>
</div>
<a class="anchor" id="a24094d5762a719e34470d30f19bc1fb3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int CTPMinError</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The minimum difference between the SM position in steps and the encoder position that causes the setting of the STATE_CTP_ERROR flag. </p>
<p>Measured in steps. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Aug 6 2024 16:52:49 for libximc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
